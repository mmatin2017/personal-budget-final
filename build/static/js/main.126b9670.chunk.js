(this["webpackJsonppersonal-budget-app"]=this["webpackJsonppersonal-budget-app"]||[]).push([[0],{250:function(e,t,n){},260:function(e,t,n){},266:function(e,t){},268:function(e,t){},279:function(e,t){},281:function(e,t){},308:function(e,t){},310:function(e,t){},311:function(e,t){},316:function(e,t){},318:function(e,t){},337:function(e,t){},349:function(e,t){},352:function(e,t){},487:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n(0),c=n.n(s),r=n(45),i=n.n(r),o=(n(250),n(12)),l=n.n(o),u=n(18),d=n(15),j=n(83),b=n(67),h=n(105),p=(n(260),n(13));function O(){return Object(a.jsx)("div",{className:"Home",children:Object(a.jsxs)("div",{className:"lander",children:[Object(a.jsx)("h1",{children:"Personal Budget App"}),Object(a.jsx)("p",{className:"text-muted",children:"An app for all your budgeting needs. Sign up today."})]})})}function g(){return Object(a.jsx)("div",{className:"NotFound text-center",children:Object(a.jsx)("h3",{children:"Sorry, page not found!"})})}var x=n(497),m=n(9),f=n(63),v=n(244),y=n(32),w=n(242);function C(e){var t=e.isLoading,n=e.className,s=void 0===n?"":n,c=e.disabled,r=void 0!==c&&c,i=Object(v.a)(e,["isLoading","className","disabled"]);return Object(a.jsxs)(y.a,Object(f.a)(Object(f.a)({role:"submit",disabled:r||t,className:"LoaderButton ".concat(s)},i),{},{children:[t&&Object(a.jsx)(w.a,{className:"spinning"}),i.children]}))}var I=Object(s.createContext)(null);function k(){return Object(s.useContext)(I)}var S=n(96);function L(e){var t=Object(s.useState)(e),n=Object(d.a)(t,2),a=n[0],c=n[1];return[a,function(e){c(Object(f.a)(Object(f.a)({},a),{},Object(S.a)({},e.target.id,e.target.value)))}]}function N(e){var t=e.toString();e instanceof Error||!e.message||(t=e.message),alert(t)}var P=n(22);function D(){var e=Object(p.k)(),t=k().userHasAuthenticated,n=Object(s.useState)(!1),c=Object(d.a)(n,2),r=c[0],i=c[1],o=L({email:"",password:""}),j=Object(d.a)(o,2),b=j[0],h=j[1];function O(){return(O=Object(u.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),i(!0),n.prev=2,n.next=5,x.a.signIn(b.email,b.password);case 5:t(!0),e.push("/dashboard"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),N(n.t0),i(!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"Login",children:Object(a.jsxs)(m.a,{onSubmit:function(e){return O.apply(this,arguments)},role:"view",children:[Object(a.jsxs)(m.a.Group,{size:"lg",controlId:"email",children:[Object(a.jsx)(m.a.Label,{children:"Email"}),Object(a.jsx)(m.a.Control,{autoFocus:!0,type:"email",value:b.email,onChange:h})]}),Object(a.jsxs)(m.a.Group,{size:"lg",controlId:"password",children:[Object(a.jsx)(m.a.Label,{children:"Password"}),Object(a.jsx)(m.a.Control,{type:"password",value:b.password,onChange:h})]}),Object(a.jsx)(C,{block:!0,size:"lg",type:"submit",isLoading:r,disabled:!(b.email.length>0&&b.password.length>0),children:"Login"}),"Don't have an account? Sign up ",Object(a.jsx)(P.Link,{to:"/signup",children:"here."})]})})}function B(){var e=L({email:"",password:"",confirmPassword:"",confirmationCode:""}),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(p.k)(),i=Object(s.useState)(null),o=Object(d.a)(i,2),j=o[0],b=o[1],h=k().userHasAuthenticated,O=Object(s.useState)(!1),g=Object(d.a)(O,2),f=g[0],v=g[1];function y(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,x.a.signUp({username:n.email,password:n.password});case 5:a=e.sent,v(!1),b(a),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),N(e.t0),x.a.resendSignUp(),v(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function I(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,x.a.confirmSignUp(n.email,n.confirmationCode);case 5:return e.next=7,x.a.signIn(n.email,n.password);case 7:h(!0),r.push("/dashboard"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),N(e.t0),v(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"Signup",children:null===j?Object(a.jsxs)(m.a,{onSubmit:y,role:"view",children:[Object(a.jsxs)(m.a.Group,{controlId:"email",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Email"}),Object(a.jsx)(m.a.Control,{autoFocus:!0,type:"email",value:n.email,onChange:c})]}),Object(a.jsxs)(m.a.Group,{controlId:"password",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Password"}),Object(a.jsx)(m.a.Control,{type:"password",value:n.password,onChange:c})]}),Object(a.jsxs)(m.a.Group,{controlId:"confirmPassword",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Confirm Password"}),Object(a.jsx)(m.a.Control,{type:"password",onChange:c,value:n.confirmPassword})]}),Object(a.jsx)(C,{block:!0,size:"lg",type:"submit",variant:"success",isLoading:f,disabled:!(n.email.length>0&&n.password.length>0&&n.password===n.confirmPassword),children:"Signup"}),"Already have an account? Log in ",Object(a.jsx)(P.Link,{to:"/login",children:"here."})]}):Object(a.jsxs)(m.a,{onSubmit:I,children:[Object(a.jsxs)(m.a.Group,{controlId:"confirmationCode",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Confirmation Code"}),Object(a.jsx)(m.a.Control,{autoFocus:!0,type:"tel",onChange:c,value:n.confirmationCode}),Object(a.jsx)(m.a.Text,{muted:!0,children:"Please check your email for the code."})]}),Object(a.jsx)(C,{block:!0,size:"lg",type:"submit",variant:"success",isLoading:f,disabled:!(n.confirmationCode.length>0),children:"Verify"})]})})}var E=n(237),A=n(238),z=n(243),G=n(241),_=n(39),T=n.n(_),U=n(106),F=n(144),R=n(41);function K(){var e=Object(p.k)(),t=L({title:"",budget:""}),n=Object(d.a)(t,2),s=n[0],c=n[1];function r(){return(r=Object(u.a)(l.a.mark((function t(n){var a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.currentAuthenticatedUser();case 2:a=t.sent,n.preventDefault(),c={username:a.username,title:s.title,budget:s.budget},console.log(c),T.a.put("http://localhost:5000/updateBudget",c),e.push("/dashboard");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"Login",children:Object(a.jsxs)(m.a,{onSubmit:function(e){return r.apply(this,arguments)},role:"view",children:[Object(a.jsxs)(m.a.Group,{controlId:"title",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Enter the expense title"}),Object(a.jsx)(m.a.Control,{autoFocus:!0,type:"input",value:s.title,onChange:c})]}),Object(a.jsxs)(m.a.Group,{controlId:"budget",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Enter the expense amount"}),Object(a.jsx)(m.a.Control,{type:"number",value:s.budget,onChange:c})]}),Object(a.jsx)(y.a,{block:!0,size:"lg",type:"submit",variant:"success",children:"Submit"})]})})}function M(){var e=Object(p.k)(),t=L({title:""}),n=Object(d.a)(t,2),s=n[0],c=n[1];function r(){return(r=Object(u.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),T.a.delete("http://localhost:5000/deleteBudget",{data:{title:s.title}}),e.push("/dashboard"),e.go(0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"Login",children:Object(a.jsxs)(m.a,{onSubmit:function(e){return r.apply(this,arguments)},children:[Object(a.jsxs)(m.a.Group,{controlId:"title",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Enter budget title to delete"}),Object(a.jsx)(m.a.Control,{type:"input",value:s.title,onChange:c})]}),Object(a.jsx)(y.a,{block:!0,size:"lg",type:"submit",variant:"success",role:"submit",children:"Submit"})]})})}function q(){var e,t,n=Object(p.k)(),s=L({title:"",budget:""}),c=Object(d.a)(s,2),r=c[0],i=c[1];function o(){return(o=Object(u.a)(l.a.mark((function a(s){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e="#"+(16777215*Math.random()<<0).toString(16).padStart(6,"0"),a.next=3,x.a.currentAuthenticatedUser();case 3:c=a.sent,s.preventDefault(),t={username:c.username,data:[{title:r.title,color:e,budget:r.budget}]},console.log(t),T.a.put("http://localhost:5000/updateBudget",t),n.go(0);case 9:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"Login",children:Object(a.jsxs)(m.a,{onSubmit:function(e){return o.apply(this,arguments)},role:"view",children:[Object(a.jsxs)(m.a.Group,{controlId:"title",size:"lg",children:[Object(a.jsx)(m.a.Label,{children:"Enter the budget title"}),Object(a.jsx)(m.a.Control,{autoFocus:!0,type:"input",value:r.title,onChange:i})]}),Object(a.jsxs)(m.a.Group,{controlId:"budget",size:"small",children:[Object(a.jsx)(m.a.Label,{children:"Enter the budget amount"}),Object(a.jsx)(m.a.Control,{type:"number",value:r.budget,onChange:i})]}),Object(a.jsx)(y.a,{block:!0,size:"lg",type:"submit",variant:"success",role:"submit",children:"Submit"})]})})}var H=n(52),J=n(239),Y=function(e){Object(z.a)(n,e);var t=Object(G.a)(n);function n(){var e;Object(E.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={select:"Pie",selectBudget:"Add",data:{username:"",datasets:[{data:[],backgroundColor:[]}],labels:[]}},e.handleSelectBudget=function(t){e.setState({selectBudget:t}),console.log(e.state.selectBudget)},e.handleSelectChartView=function(t){e.setState({select:t}),console.log(e.state.select)},e}return Object(A.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,s,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.currentAuthenticatedUser();case 3:return t=e.sent,n={username:t.username},T.a.post("http://localhost:5000/addBudget",n),e.next=8,T.a.get("http://localhost:5000/budget");case 8:a=e.sent,s=this.state.data,r=0;case 11:if(!(r<a.data.length)){e.next=18;break}if(a.data[r].username!==n.username){e.next=15;break}return c=r,e.abrupt("break",18);case 15:r++,e.next=11;break;case 18:for(i=0;i<a.data[c].data.length;i++)s.datasets[0].data[i]=a.data[c].data[i].budget,s.labels[0]=a.data[c].data[i].title,s.datasets[0].backgroundColor[i]=a.data[c].data[i].color;this.setState({data:Object.assign({},this.state.data,{data:s})}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(a.jsx)("main",{className:"center",id:"main",children:Object(a.jsx)("div",{className:"page-area",children:Object(a.jsxs)("div",{className:"text-box",children:[Object(a.jsx)("h1",{children:"Your Budget Data"}),Object(a.jsxs)(J.a,{role:"layout",children:[Object(a.jsxs)(H.a,{style:{width:"10rem"},align:"left",size:"small",children:[Object(a.jsx)(H.a.Img,{variant:"top"}),Object(a.jsxs)(H.a.Body,{children:[Object(a.jsxs)(F.a,{id:"dropdown-basic-button",title:"Budget Build Select",onSelect:this.handleSelectBudget,menuAlign:"left",size:"small",role:"selectionMenu",children:[Object(a.jsx)(R.a.Item,{eventKey:"Add",role:"selection",children:"Add an expense"}),Object(a.jsx)(R.a.Item,{eventKey:"Update",role:"selection",children:"Edit an expense"}),Object(a.jsx)(R.a.Item,{eventKey:"Delete",role:"selection",children:"Delete an expense"})]}),Object(a.jsx)(q,{}),Object(a.jsx)(K,{}),Object(a.jsx)(M,{})]})]}),Object(a.jsxs)(H.a,{style:{width:"14rem"},align:"left",children:[Object(a.jsx)(H.a.Img,{variant:"middle"}),Object(a.jsxs)(H.a.Body,{children:[Object(a.jsxs)(F.a,{id:"dropdown-basic-button",title:"Change expense view",onSelect:this.handleSelectChartView,align:"right",size:"small",menuAlign:"right",role:"selectionMenu",children:[Object(a.jsx)(R.a.Item,{eventKey:"Pie",role:"selection",children:"Pie"}),Object(a.jsx)(R.a.Item,{eventKey:"Bar",role:"selection",children:"Bar"}),Object(a.jsx)(R.a.Item,{eventKey:"Doughnut",role:"selection",children:"Doughnut"})]}),"Pie"!==this.state.select?this.handleSelect:Object(a.jsx)(U.Pie,{data:this.state.data,role:"pieData"}),"Bar"!==this.state.select?this.handleSelect:Object(a.jsx)(U.Bar,{data:this.state.data,role:"pieData"}),"Doughnut"!==this.state.select?this.handleSelect:Object(a.jsx)(U.Doughnut,{data:this.state.data,role:"doughnutData"})]})]})]})]})})})}}]),n}(s.Component);function V(){return Object(a.jsxs)(p.g,{children:[Object(a.jsx)(p.d,{exact:!0,path:"/",children:Object(a.jsx)(O,{})}),Object(a.jsx)(p.d,{exact:!0,path:"/login",children:Object(a.jsx)(D,{})}),Object(a.jsx)(p.d,{exact:!0,path:"/signup",children:Object(a.jsx)(B,{})}),Object(a.jsx)(p.d,{exact:!0,path:"/dashboard",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(p.d,{children:Object(a.jsx)(g,{})})]})}var W=function(){var e=Object(p.k)(),t=Object(s.useState)(!0),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(s.useState)(!1),o=Object(d.a)(i,2),O=o[0],g=o[1];function m(){return(m=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.currentSession();case 3:g(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&N(e.t0);case 9:r(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.signOut();case 2:g(!1),e.push("/login");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),!c&&Object(a.jsxs)("div",{className:"App container py-3",children:[Object(a.jsxs)(j.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",role:"navigation",children:[Object(a.jsx)(h.LinkContainer,{to:"/",children:Object(a.jsx)(j.a.Brand,{className:"font-weight-bold text-muted",children:"Personal Budget App"})}),Object(a.jsx)(j.a.Toggle,{}),Object(a.jsx)(j.a.Collapse,{className:"justify-content-end",children:Object(a.jsxs)(b.a,{activeKey:window.location.pathname,children:[O?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(h.LinkContainer,{to:"/dashboard",children:Object(a.jsx)(b.a.Link,{children:"Dashboard"})})}):Object(a.jsx)(b.a.Link,{}),O?Object(a.jsx)(b.a.Link,{onClick:function(){return f.apply(this,arguments)},children:"Logout"}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(h.LinkContainer,{to:"/login",children:Object(a.jsx)(b.a.Link,{children:"Login/Signup"})})})]})})]}),Object(a.jsx)(I.Provider,{value:{isAuthenticated:O,userHasAuthenticated:g},children:Object(a.jsx)(V,{})})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,498)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))},X={s3:{REGION:"us-east-2",BUCKET:"personal-budget-uploads"},apiGateway:{REGION:" ",URL:" "},cognito:{REGION:"us-east-2",USER_POOL_ID:"us-east-2_JN3Ca7q4g",APP_CLIENT_ID:"676ovvvppanppqv9qur5o1um5g",IDENTITY_POOL_ID:"us-east-2_JN3Ca7q4g"}};n(142).a.configure({Auth:{mandatorySignIn:!0,region:X.cognito.REGION,userPoolId:X.cognito.USER_POOL_ID,identityPoolId:X.cognito.IDENTITY_POOL_ID,userPoolWebClientId:X.cognito.APP_CLIENT_ID},Storage:{region:X.s3.REGION,bucket:X.s3.BUCKET,identityPoolId:X.cognito.IDENTITY_POOL_ID},API:{endpoints:[{name:"notes",endpoint:X.apiGateway.URL,region:X.apiGateway.REGION}]}}),i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(P.BrowserRouter,{children:Object(a.jsx)(W,{})})}),document.getElementById("root")),Q()}},[[487,1,2]]]);
//# sourceMappingURL=main.126b9670.chunk.js.map