(this["webpackJsonppersonal-budget-app"]=this["webpackJsonppersonal-budget-app"]||[]).push([[0],{250:function(e,t,a){},260:function(e,t,a){},266:function(e,t){},268:function(e,t){},279:function(e,t){},281:function(e,t){},308:function(e,t){},310:function(e,t){},311:function(e,t){},316:function(e,t){},318:function(e,t){},337:function(e,t){},349:function(e,t){},352:function(e,t){},487:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(0),c=a.n(s),r=a(44),i=a.n(r),o=(a(250),a(12)),l=a.n(o),u=a(18),d=a(15),j=a(83),b=a(67),h=a(105),p=(a(260),a(13));function O(){return Object(n.jsx)("div",{className:"Home",children:Object(n.jsxs)("div",{className:"lander",children:[Object(n.jsx)("h1",{children:"Personal Budget App"}),Object(n.jsx)("p",{className:"text-muted",children:"An app for all your budgeting needs. Sign up today."})]})})}function g(){return Object(n.jsx)("div",{className:"NotFound text-center",children:Object(n.jsx)("h3",{children:"Sorry, page not found!"})})}var x=a(497),m=a(9),f=a(62),v=a(244),y=a(32),w=a(242);function C(e){var t=e.isLoading,a=e.className,s=void 0===a?"":a,c=e.disabled,r=void 0!==c&&c,i=Object(v.a)(e,["isLoading","className","disabled"]);return Object(n.jsxs)(y.a,Object(f.a)(Object(f.a)({role:"submit",disabled:r||t,className:"LoaderButton ".concat(s)},i),{},{children:[t&&Object(n.jsx)(w.a,{className:"spinning"}),i.children]}))}var k=Object(s.createContext)(null);function I(){return Object(s.useContext)(k)}var L=a(96);function S(e){var t=Object(s.useState)(e),a=Object(d.a)(t,2),n=a[0],c=a[1];return[n,function(e){c(Object(f.a)(Object(f.a)({},n),{},Object(L.a)({},e.target.id,e.target.value)))}]}function N(e){var t=e.toString();e instanceof Error||!e.message||(t=e.message),alert(t)}var P=a(22);function D(){var e=Object(p.k)(),t=I().userHasAuthenticated,a=Object(s.useState)(!1),c=Object(d.a)(a,2),r=c[0],i=c[1],o=S({email:"",password:""}),j=Object(d.a)(o,2),b=j[0],h=j[1];function O(){return(O=Object(u.a)(l.a.mark((function a(n){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),i(!0),a.prev=2,a.next=5,x.a.signIn(b.email,b.password);case 5:t(!0),e.push("/dashboard"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(2),N(a.t0),i(!1);case 13:case"end":return a.stop()}}),a,null,[[2,9]])})))).apply(this,arguments)}return Object(n.jsx)("div",{className:"Login",children:Object(n.jsxs)(m.a,{onSubmit:function(e){return O.apply(this,arguments)},role:"view",children:[Object(n.jsxs)(m.a.Group,{size:"lg",controlId:"email",children:[Object(n.jsx)(m.a.Label,{children:"Email"}),Object(n.jsx)(m.a.Control,{autoFocus:!0,type:"email",value:b.email,onChange:h})]}),Object(n.jsxs)(m.a.Group,{size:"lg",controlId:"password",children:[Object(n.jsx)(m.a.Label,{children:"Password"}),Object(n.jsx)(m.a.Control,{type:"password",value:b.password,onChange:h})]}),Object(n.jsx)(C,{block:!0,size:"lg",type:"submit",isLoading:r,disabled:!(b.email.length>0&&b.password.length>0),children:"Login"}),"Don't have an account? Sign up ",Object(n.jsx)(P.Link,{to:"/signup",children:"here."})]})})}function E(){var e=S({email:"",password:"",confirmPassword:"",confirmationCode:""}),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(p.k)(),i=Object(s.useState)(null),o=Object(d.a)(i,2),j=o[0],b=o[1],h=I().userHasAuthenticated,O=Object(s.useState)(!1),g=Object(d.a)(O,2),f=g[0],v=g[1];function y(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,x.a.signUp({username:a.email,password:a.password});case 5:n=e.sent,v(!1),b(n),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),N(e.t0),x.a.resendSignUp(),v(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function k(e){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,x.a.confirmSignUp(a.email,a.confirmationCode);case 5:return e.next=7,x.a.signIn(a.email,a.password);case 7:h(!0),r.push("/dashboard"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),N(e.t0),v(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(n.jsx)("div",{className:"Signup",children:null===j?Object(n.jsxs)(m.a,{onSubmit:y,role:"view",children:[Object(n.jsxs)(m.a.Group,{controlId:"email",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Email"}),Object(n.jsx)(m.a.Control,{autoFocus:!0,type:"email",value:a.email,onChange:c})]}),Object(n.jsxs)(m.a.Group,{controlId:"password",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Password"}),Object(n.jsx)(m.a.Control,{type:"password",value:a.password,onChange:c})]}),Object(n.jsxs)(m.a.Group,{controlId:"confirmPassword",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Confirm Password"}),Object(n.jsx)(m.a.Control,{type:"password",onChange:c,value:a.confirmPassword})]}),Object(n.jsx)(C,{block:!0,size:"lg",type:"submit",variant:"success",isLoading:f,disabled:!(a.email.length>0&&a.password.length>0&&a.password===a.confirmPassword),children:"Signup"}),"Already have an account? Log in ",Object(n.jsx)(P.Link,{to:"/login",children:"here."})]}):Object(n.jsxs)(m.a,{onSubmit:k,children:[Object(n.jsxs)(m.a.Group,{controlId:"confirmationCode",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Confirmation Code"}),Object(n.jsx)(m.a.Control,{autoFocus:!0,type:"tel",onChange:c,value:a.confirmationCode}),Object(n.jsx)(m.a.Text,{muted:!0,children:"Please check your email for the code."})]}),Object(n.jsx)(C,{block:!0,size:"lg",type:"submit",variant:"success",isLoading:f,disabled:!(a.confirmationCode.length>0),children:"Verify"})]})})}var B=a(236),G=a(237),z=a(243),A=a(241),_=a(39),T=a.n(_),F=a(106),U=a(239),R=a(65);function K(){var e=Object(p.k)(),t=S({title:"",budget:""}),a=Object(d.a)(t,2),s=a[0],c=a[1];function r(){return(r=Object(u.a)(l.a.mark((function t(a){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.currentAuthenticatedUser();case 2:n=t.sent,a.preventDefault(),c={username:n.username,title:s.title,budget:s.budget},console.log(c),T.a.put("http://64.225.57.235:5000/updateBudget",c),e.push("/dashboard");case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.jsx)("div",{className:"Login",children:Object(n.jsxs)(m.a,{onSubmit:function(e){return r.apply(this,arguments)},role:"view",children:[Object(n.jsxs)(m.a.Group,{controlId:"title",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Enter the expense title"}),Object(n.jsx)(m.a.Control,{autoFocus:!0,type:"input",value:s.title,onChange:c})]}),Object(n.jsxs)(m.a.Group,{controlId:"budget",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Enter the expense amount"}),Object(n.jsx)(m.a.Control,{type:"number",value:s.budget,onChange:c})]}),Object(n.jsx)(y.a,{block:!0,size:"lg",type:"submit",variant:"success",children:"Submit"})]})})}function q(){var e=Object(p.k)(),t=S({title:""}),a=Object(d.a)(t,2),s=a[0],c=a[1];function r(){return(r=Object(u.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),T.a.delete("http://64.225.57.235:5000/deleteBudget",{data:{title:s.title}}),e.push("/dashboard"),e.go(0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(n.jsx)("div",{className:"Login",children:Object(n.jsxs)(m.a,{onSubmit:function(e){return r.apply(this,arguments)},children:[Object(n.jsxs)(m.a.Group,{controlId:"title",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Enter title of budget to delete"}),Object(n.jsx)(m.a.Control,{type:"input",value:s.title,onChange:c})]}),Object(n.jsx)(y.a,{block:!0,size:"lg",type:"submit",variant:"success",role:"submit",children:"Submit"})]})})}function H(){var e,t,a=Object(p.k)(),s=S({title:"",budget:""}),c=Object(d.a)(s,2),r=c[0],i=c[1];function o(){return(o=Object(u.a)(l.a.mark((function n(s){var c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="#"+(16777215*Math.random()<<0).toString(16).padStart(6,"0"),n.next=3,x.a.currentAuthenticatedUser();case 3:c=n.sent,s.preventDefault(),t={username:c.username,data:[{title:r.title,color:e,budget:r.budget}]},console.log(t),T.a.put("http://64.225.57.235:5000/updateBudget",t),a.go(0);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(n.jsx)("div",{className:"Login",children:Object(n.jsxs)(m.a,{onSubmit:function(e){return o.apply(this,arguments)},role:"view",children:[Object(n.jsxs)(m.a.Group,{controlId:"title",size:"lg",children:[Object(n.jsx)(m.a.Label,{children:"Enter the budget title"}),Object(n.jsx)(m.a.Control,{autoFocus:!0,type:"input",value:r.title,onChange:i})]}),Object(n.jsxs)(m.a.Group,{controlId:"budget",size:"small",children:[Object(n.jsx)(m.a.Label,{children:"Enter the budget amount"}),Object(n.jsx)(m.a.Control,{type:"number",value:r.budget,onChange:i})]}),Object(n.jsx)(y.a,{block:!0,size:"lg",type:"submit",variant:"success",role:"submit",children:"Submit"})]})})}var J=a(51),M=a(238),Y=function(e){Object(z.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(B.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={select:"Pie",selectBudget:"Add",data:{username:"",datasets:[{data:[],backgroundColor:[]}],labels:[]}},e.handleSelectBudget=function(t){e.setState({selectBudget:t}),console.log(e.state.selectBudget)},e.handleSelectChartView=function(t){e.setState({select:t}),console.log(e.state.select)},e}return Object(G.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n,s,c,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.currentAuthenticatedUser();case 3:return t=e.sent,a={username:t.username},T.a.post("http://64.225.57.235:5000/addBudget",a),e.next=8,T.a.get("http://64.225.57.235:5000/budget");case 8:n=e.sent,s=this.state.data,r=0;case 11:if(!(r<n.data.length)){e.next=18;break}if(n.data[r].username!==a.username){e.next=15;break}return c=r,e.abrupt("break",18);case 15:r++,e.next=11;break;case 18:for(i=0;i<n.data[c].data.length;i++)s.datasets[0].data[i]=n.data[c].data[i].budget,s.labels[0]=n.data[c].data[i].title,s.datasets[0].backgroundColor[i]=n.data[c].data[i].color;this.setState({data:Object.assign({},this.state.data,{data:s})}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(n.jsx)("main",{className:"center",id:"main",children:Object(n.jsx)("div",{className:"page-area",children:Object(n.jsxs)("div",{className:"text-box",children:[Object(n.jsx)("h1",{children:"Your Budget Data"}),Object(n.jsxs)(M.a,{role:"layout",children:[Object(n.jsxs)(J.a,{style:{width:"10rem"},align:"left",size:"small",children:[Object(n.jsx)(J.a.Img,{variant:"top"}),Object(n.jsxs)(J.a.Body,{children:[Object(n.jsx)(H,{}),Object(n.jsx)(K,{}),Object(n.jsx)(q,{})]})]}),Object(n.jsxs)(J.a,{style:{width:"14rem"},align:"left",children:[Object(n.jsx)(J.a.Img,{variant:"middle"}),Object(n.jsxs)(J.a.Body,{children:[Object(n.jsxs)(U.a,{id:"dropdown-basic-button",title:"Change budget view",onSelect:this.handleSelectChartView,align:"right",size:"small",menuAlign:"right",role:"selectionMenu",children:[Object(n.jsx)(R.a.Item,{eventKey:"Pie",role:"selection",children:"Pie"}),Object(n.jsx)(R.a.Item,{eventKey:"Bar",role:"selection",children:"Bar"}),Object(n.jsx)(R.a.Item,{eventKey:"Doughnut",role:"selection",children:"Doughnut"})]}),"Pie"!==this.state.select?this.handleSelect:Object(n.jsx)(F.Pie,{data:this.state.data,role:"pieData"}),"Bar"!==this.state.select?this.handleSelect:Object(n.jsx)(F.Bar,{data:this.state.data,role:"pieData"}),"Doughnut"!==this.state.select?this.handleSelect:Object(n.jsx)(F.Doughnut,{data:this.state.data,role:"doughnutData"})]})]})]})]})})})}}]),a}(s.Component);function V(){return Object(n.jsxs)(p.g,{children:[Object(n.jsx)(p.d,{exact:!0,path:"/",children:Object(n.jsx)(O,{})}),Object(n.jsx)(p.d,{exact:!0,path:"/login",children:Object(n.jsx)(D,{})}),Object(n.jsx)(p.d,{exact:!0,path:"/signup",children:Object(n.jsx)(E,{})}),Object(n.jsx)(p.d,{exact:!0,path:"/dashboard",children:Object(n.jsx)(Y,{})}),Object(n.jsx)(p.d,{children:Object(n.jsx)(g,{})})]})}var W=function(){var e=Object(p.k)(),t=Object(s.useState)(!0),a=Object(d.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(!1),o=Object(d.a)(i,2),O=o[0],g=o[1];function m(){return(m=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.currentSession();case 3:g(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&N(e.t0);case 9:r(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.signOut();case 2:g(!1),e.push("/login");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),!c&&Object(n.jsxs)("div",{className:"App container py-3",children:[Object(n.jsxs)(j.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",role:"navigation",children:[Object(n.jsx)(h.LinkContainer,{to:"/",children:Object(n.jsx)(j.a.Brand,{className:"font-weight-bold text-muted",children:"Personal Budget App"})}),Object(n.jsx)(j.a.Toggle,{}),Object(n.jsx)(j.a.Collapse,{className:"justify-content-end",children:Object(n.jsxs)(b.a,{activeKey:window.location.pathname,children:[O?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(h.LinkContainer,{to:"/dashboard",children:Object(n.jsx)(b.a.Link,{children:"Dashboard"})})}):Object(n.jsx)(b.a.Link,{}),O?Object(n.jsx)(b.a.Link,{onClick:function(){return f.apply(this,arguments)},children:"Logout"}):Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(h.LinkContainer,{to:"/login",children:Object(n.jsx)(b.a.Link,{children:"Login/Signup"})})})]})})]}),Object(n.jsx)(k.Provider,{value:{isAuthenticated:O,userHasAuthenticated:g},children:Object(n.jsx)(V,{})})]})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,498)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))},X={s3:{REGION:"us-east-2",BUCKET:"personal-budget-uploads"},apiGateway:{REGION:" ",URL:" "},cognito:{REGION:"us-east-2",USER_POOL_ID:"us-east-2_JN3Ca7q4g",APP_CLIENT_ID:"676ovvvppanppqv9qur5o1um5g",IDENTITY_POOL_ID:"us-east-2_JN3Ca7q4g"}};a(142).a.configure({Auth:{mandatorySignIn:!0,region:X.cognito.REGION,userPoolId:X.cognito.USER_POOL_ID,identityPoolId:X.cognito.IDENTITY_POOL_ID,userPoolWebClientId:X.cognito.APP_CLIENT_ID},Storage:{region:X.s3.REGION,bucket:X.s3.BUCKET,identityPoolId:X.cognito.IDENTITY_POOL_ID},API:{endpoints:[{name:"notes",endpoint:X.apiGateway.URL,region:X.apiGateway.REGION}]}}),i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(P.BrowserRouter,{children:Object(n.jsx)(W,{})})}),document.getElementById("root")),Q()}},[[487,1,2]]]);
//# sourceMappingURL=main.fe38d147.chunk.js.map